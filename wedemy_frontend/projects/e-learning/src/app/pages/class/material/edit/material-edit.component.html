<section class="section-title">
    <div (click)="back()" class="back-button rounded">
        <div class="mr-1"><i class="pi pi-angle-left"></i>Kembali</div>
    </div>
    <h2>Edit Materi</h2>
</section>

<div *ngIf="!isLoading" class="row">
    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="materialCode">Kode Materi</label>
            <input (ngModelChange)="mtrCodeValidation($event)" [(ngModel)]="material.idLearningMaterial.code" type="text" class="form-control {{mtrCodeClass}}" id="materialCode" aria-describedby="materialCodeHelp" [value]="material.idLearningMaterial.code" required
                minlength="1" maxlength="10">
            <small *ngIf="!mtrCodeIsValid" id="materialCodeHelp" class="form-text text-danger">{{mtrCodeErrMsg}}</small>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="materialName">Nama Materi</label>
            <input (ngModelChange)="mtrNameValidation($event)" [(ngModel)]="material.idLearningMaterial.learningMaterialName" type="text" class="form-control {{mtrNameClass}}" id="materialName" aria-describedby="materialNameHelp" [value]="material.idLearningMaterial.learningMaterialName"
                required minlength="1">
            <small *ngIf="!mtrNameIsValid" id="materialNameHelp" class="form-text text-danger">{{mtrNameErrMsg}}</small>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="startDate">Tanggal Berlangsung</label>
            <input (ngModelChange)="startDateValidation($event)" [(ngModel)]="material.scheduleDate" type="date" class="form-control {{startDateClass}}" id="startDate" aria-describedby="startDateHelp" [value]="material.scheduleDate" required>
            <small *ngIf="!startDateIsValid" id="startDateHelp" class="form-text text-danger">{{startDateErrMsg}}</small>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <!-- <div class="form-group">
            <label for="materialFile">File</label>
            <input (change)="setFile($event)" type="file" class="form-control" id="materialFile" aria-describedby="materialFileHelp">
            <small id="materialFileHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div> -->

        <label>File Materi</label>
        <div class="custom-file mb-3">
            <input (change)="setFile($event)" type="file" class="custom-file-input" id="customFile" name="filename">
            <label class="custom-file-label" for="customFile">{{selectedFileName}}</label>
        </div>
    </div>
    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label>Tipe Materi &nbsp;</label>
            <select [(ngModel)]="selectedMaterialType" class="form-control" disabled>
        <option *ngFor="let materialType of materialTypes" [ngValue]="materialType" [selected]="selectedMaterialType">{{
          materialType.learningMaterialTypeName }}</option>
      </select>
        </div>
    </div>
    <div class="col-12">
        <div class="form-group">
            <label for="desc">Description</label>
            <p-editor (ngModelChange)="descValidation($event)" id="desc" [(ngModel)]="material.idLearningMaterial.description" [style]="{'height':'200px'}" required>
                {{material.idLearningMaterial.description}}
            </p-editor>
            <small *ngIf="!descIsValid" id="desc" class="form-text text-danger">{{descErrMsg}}</small>
        </div>

        <div class="d-flex justify-content-end">
            <button (click)="back()" class="btn btn-danger mr-3">Batal</button>
            <button (click)="update()" class="btn btn-primary" [disabled]="disabledButton">Simpan</button>
        </div>
    </div>
</div>

<div *ngIf="isLoading" class="row">
    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="materialCode">Kode Materi</label>
            <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="materialName">Nama Materi</label>
            <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label for="startDate">Tanggal Berlangsung</label>
            <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
        </div>
    </div>

    <div class="col-sm-12 col-md-6">
        <label>File Materi</label>
        <div class="custom-file mb-3">
            <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
        </div>
    </div>
    <div class="col-sm-12 col-md-6">
        <div class="form-group">
            <label>Tipe Material :&nbsp;</label>
            <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
        </div>
    </div>
    <div class="col-12">
        <div class="form-group">
            <label for="desc">Description</label>
            <p-skeleton height="8rem" styleClass="p-mb-2"></p-skeleton>
        </div>

        <div class="d-flex justify-content-end">
            <button (click)="back()" class="btn btn-danger mr-3">Batal</button>
            <button (click)="update()" class="btn btn-primary" [disabled]="disabledButton">Simpan</button>
        </div>
    </div>
</div>