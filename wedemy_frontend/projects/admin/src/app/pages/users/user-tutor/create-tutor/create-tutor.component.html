<app-layout>
    <mat-toolbar class="page-header" role="heading">
        <h1>Tambah {{roleActive}}</h1>
    </mat-toolbar>

    <div class="container-fluid">
        <div class="col-lg-12 col-md-12 col-sm-12 pb-5 justify-content-center">
            <div class="card m-3 ">
                <div class="card-header d-flex">
                    <button class="btn btn-primary-outline" width="20px" (click)="backButton()">
                        <i class="fas fa-chevron-left fa-lg"></i>
                    </button>
                    <h5 class="m-2 pt-1 pb-1">Kembali</h5>
                </div>
                <form class="card-body " name="registUser">
                    <div class="p-fluid">
                        <div class="d-flex">
                            <div class="mb-3 col-lg-6">
                                <label for="username" class="form-label">Username</label>
                                <input type="text" class="form-control" (ngModelChange)="validation($event,'username')"
                                    [(ngModel)]="user.username" id="username" name="username" pInputText maxlength="64">
                                <small *ngIf="!usernameValid" class="p-error">{{usernameErrMsg}}</small>
                            </div>
                            <div class="mb-3 col-lg-6">
                                <label for="Password" class="form-label">Sandi</label>
                                <input type="password" class="form-control" pInputText
                                    (ngModelChange)="validation($event,'password')" name="password"
                                    [(ngModel)]="user.userPassword" id="Password" maxlength="40">
                                <small *ngIf="!passwordValid" class="p-error">{{passErrMsg}}</small>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="mb-3 col-lg-6">
                                <label for="idktp" class="form-label">Nomor KTP</label>
                                <input type="text" class="form-control" id="idktp" name="idktp" pInputText
                                    (ngModelChange)="numIdentity($event)" [(ngModel)]="profile.idNumber" maxlength="16">
                                <small *ngIf="!nomorKtpValid" class="p-error">{{nomorKtpErrMsg}}</small>
                            </div>
                            <div class="mb-3 col-lg-6">
                                <label for="nama" class="form-label">Nama</label>
                                <input type="text" class="form-control" name="nama" [(ngModel)]="profile.fullName"
                                    pInputText (ngModelChange)="validation($event,'nama')" id="nama" maxlength="50">
                                <small *ngIf="!namaValid" class="p-error">{{namaErrMsg}}</small>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="mb-3 col-lg-6">
                                <label for="email" class="form-label">E-Mail</label>
                                <input type="email" class="form-control" name="email" [(ngModel)]="profile.email"
                                    pInputText (ngModelChange)="validation($event,'email')" id="email" maxlength="50">
                                <small *ngIf="!emailValid" class="p-error">{{emailErrMsg}}</small>
                            </div>
                            <div class="mb-3 col-lg-6">
                                <label for="nomorPonsel" class="form-label">Nomor Ponsel</label>
                                <input type="text" class="form-control" name="nomorPonsel" [(ngModel)]="profile.phone"
                                    pInputText (ngModelChange)="phoneValidation($event)" id="nomorPonsel"
                                    maxlength="12">
                                <small *ngIf="!numPhoneValid" class="p-error">{{numPhoneErrMsg}}</small>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="mb-3 col-lg-6">
                                <label for="tempatLahir" class="form-label">Tempat Lahir</label>
                                <input type="text" class="form-control" name="tempatLahir"
                                    [(ngModel)]="profile.birthPlace" pInputText
                                    (ngModelChange)="validation($event,'birthPlace')" maxlength="30" id="tempatLahir">
                                <small *ngIf="!birthPlaceValid" id="username-help"
                                    class="p-error">{{birthPlaceErrMsg}}</small>
                            </div>
                            <div class="p-field col-lg-6 col-md-6">
                                <label for="startDate">Tanggal Lahir</label>
                                <p-calendar [monthNavigator]="true" [(ngModel)]="birthDate" name="birthDate"
                                    [yearNavigator]="true" yearRange="1940:2000" inputId="navigators" [showIcon]="true"
                                    inputId="icon" [readonlyInput]="true"></p-calendar>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class=" mb-3 col-lg-6 col-md-6 ">
                                <label for=" alamat" class="form-label">Alamat</label>
                                <textarea type="text" class="form-control" name="alamat" [(ngModel)]="profile.address"
                                    pInputText (ngModelChange)="validation($event,'alamat')" rows="3" maxlength="100"
                                    id="alamat"></textarea>
                                <small *ngIf="!alamatValid" class="p-error">{{alamatErrMsg}}</small>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end ">
                            <div class="m-2 ">
                                <button pButton pRipple label="Kembali" icon="pi pi-times"
                                    class="p-button-raised p-button-rounded p-button-danger"></button>
                            </div>
                            <div class="mt-2 ">
                                <button pButton pRipple label="Simpan" icon="pi pi-check"
                                    class="p-button-raised p-button-rounded p-button-success"
                                    (click)="insertUser()"></button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <app-footer></app-footer>
</app-layout>